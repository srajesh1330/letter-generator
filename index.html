<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Letter & Email Generator | AdSense Ready</title>
<script src="https://cdn.tailwindcss.com"></script>

<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5BYT4WDW4Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-5BYT4WDW4Z');
</script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap');
body { font-family: 'Roboto', sans-serif; background-color: #f3f4f6; min-height: 100vh; }
.ad-placeholder { background-color: #e0e0e0; border:2px dashed #9e9e9e; color:#757575; display:flex; align-items:center; justify-content:center; font-weight:600; margin-bottom:24px; }
.loader { border:4px solid #f3f3f3; border-radius:50%; border-top:4px solid #3b82f6; width:20px; height:20px; animation:spin 1s linear infinite; }
@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
textarea, select, input { transition: all 0.2s; box-shadow: 0 1px 3px rgba(0,0,0,0.07);}
textarea:focus, select:focus, input:focus { box-shadow: 0 0 0 3px rgba(59,130,246,0.3);}
</style>
</head>
<body class="p-4 sm:p-8 flex justify-center">

<div class="w-full max-w-2xl bg-white shadow-2xl rounded-xl p-6 sm:p-10 border-t-8 border-blue-600">
<h1 class="text-3xl font-extrabold text-blue-700 mb-2 text-center">AI Letter & Email Generator</h1>
<p class="text-center text-gray-500 mb-6">Create professional and personal correspondence instantly.</p>

<!-- Top Ad -->
<div class="ad-placeholder h-20 w-full rounded-lg">AdSense Top Banner Ad (728x90)</div>

<!-- Input Form -->
<div class="space-y-6">
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Purpose of Letter/Email</label>
    <input type="text" id="topicInput" placeholder="e.g., Requesting a raise" class="w-full p-3 border-2 border-gray-300 rounded-lg text-gray-700 focus:border-blue-500" required>
  </div>

  <div class="flex flex-col sm:flex-row gap-6">
    <div class="flex-1">
      <label class="block text-sm font-medium text-gray-700 mb-2">Select Tone:</label>
      <select id="toneSelect" class="w-full p-3 border-2 border-gray-300 rounded-lg text-gray-700 focus:border-blue-500">
        <option value="Professional">Professional (Default)</option>
        <option value="Formal">Formal and Strict</option>
        <option value="Friendly">Casual and Friendly</option>
        <option value="Persuasive">Persuasive and Assertive</option>
        <option value="Sympathetic">Sympathetic and Soft</option>
        <option value="Humorous">Humorous and Lighthearted</option>
      </select>
    </div>
    <div class="flex-1">
      <label class="block text-sm font-medium text-gray-700 mb-2">Select Length:</label>
      <select id="lengthSelect" class="w-full p-3 border-2 border-gray-300 rounded-lg text-gray-700 focus:border-blue-500">
        <option value="Short">Short (2-3 paragraphs)</option>
        <option value="Medium">Medium (3-4 paragraphs, Default)</option>
        <option value="Long">Long (5+ paragraphs)</option>
      </select>
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Key Details (Names, Dates, Reasons)</label>
    <textarea id="detailsInput" rows="4" placeholder="e.g., To my boss John Smith, I started in 2020, and I need a 10% raise." class="w-full p-3 border-2 border-gray-300 rounded-lg text-gray-700 focus:border-blue-500"></textarea>
  </div>

  <button id="generateBtn" class="w-full py-3 bg-blue-600 text-white font-bold text-lg rounded-lg hover:bg-blue-700 flex items-center justify-center">
    Generate Letter/Email Draft
  </button>
</div>

<!-- Output -->
<div class="mt-10">
<h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">Your AI Draft:</h2>
<div id="outputCard" class="bg-gray-50 p-6 rounded-xl shadow-inner border border-gray-200 min-h-[250px] whitespace-pre-wrap">
<p id="outputContent" class="text-gray-700 leading-relaxed italic">
Your generated letter or email will appear here. Start by filling out the form above!
</p>
</div>
<button id="copyBtn" class="mt-4 w-full py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200" style="display:none;">Copy Draft to Clipboard</button>
</div>

<!-- Bottom Ad -->
<div class="ad-placeholder h-32 w-full mt-8 rounded-lg">AdSense Content Ad (300x250)</div>

<!-- Footer Links -->
<div class="mt-4 pt-4 border-t border-gray-200 text-center">
<a href="privacy_policy.html" class="text-xs text-blue-600 hover:text-blue-800 mx-2">Privacy Policy</a>
<span class="text-xs text-gray-400">|</span>
<a href="contact_us.html" class="text-xs text-blue-600 hover:text-blue-800 mx-2">Contact Us</a>
</div>
<p class="text-xs text-gray-400 text-center mt-4">Powered by Gemini AI</p>
</div>

<script>
const apiKey = "PASTE_YOUR_GEMINI_API_KEY_HERE"; 
const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

const topicInput = document.getElementById('topicInput');
const toneSelect = document.getElementById('toneSelect');
const lengthSelect = document.getElementById('lengthSelect');
const detailsInput = document.getElementById('detailsInput');
const generateBtn = document.getElementById('generateBtn');
const outputContent = document.getElementById('outputContent');
const copyBtn = document.getElementById('copyBtn');
const loadingIndicator = null; // optional loader

function showCustomMessage(msg, isError=false) {
  alert(msg);
}

function copyDraft() {
  navigator.clipboard.writeText(outputContent.textContent.trim()).then(()=>{
    showCustomMessage("Draft copied to clipboard!");
  });
}

async function fetchDraft() {
  const topic = topicInput.value.trim();
  if(!topic){ showCustomMessage("Please enter the purpose.", true); return; }
  outputContent.textContent = "Generating draft...";
  copyBtn.style.display="none";

  const payload = {
    contents: [{parts:[{text:`Write a ${toneSelect.value} letter/email (${lengthSelect.value}) for purpose: "${topic}", details: "${detailsInput.value || 'No details'}"`}]}],
    systemInstruction: {parts:[{text:"You are a professional letter/email writer."}]}
  };

  try{
    const res = await fetch(apiUrl,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify(payload)
    });
    const data = await res.json();
    const result = data.candidates?.[0]?.content?.parts?.[0]?.text || "Error generating draft.";
    outputContent.textContent=result;
    copyBtn.style.display="block";
  }catch(e){
    console.error(e);
    outputContent.textContent="Error connecting to AI service.";
  }
}

window.onload = () => {
  generateBtn.addEventListener('click', fetchDraft);
  copyBtn.addEventListener('click', copyDraft);
};
</script>
</body>
</html>
